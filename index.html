<script>
    // Show the loading indicator as soon as script runs
    document.addEventListener('DOMContentLoaded', () => {
        document.getElementById("loadingIndicator").style.display = 'block';
    });

    window.onload = function () {
        const code = prompt("Enter the access code:");

        if (code === "willyhalverson") {
            openEmbed();
        } else {
            alert("Invalid code. Access denied.");
        }
    };

    function openEmbed() {
        const embed = document.getElementById("gameEmbed");
        const loadingIndicator = document.getElementById("loadingIndicator");

        // Show the embed and wait for it to load
        embed.style.display = 'block';

        // Embed load event
        embed.addEventListener('load', () => {
            loadingIndicator.style.display = 'none'; // Hide the loading
            showButton(); // Show the ESPN button
        });
    }

    function showButton() {
        document.getElementById("openUrlButton").style.display = 'block';
    }

    function openESPN() {
        window.open("https://www.espn.com/nba/scoreboard", "_blank");
    }
</script>
